{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/notice.js","webpack:///./src/js/createDOM.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_createDOM","Notice","_classCallCheck","this","DOC","document","getElementById","HTMLElement","spinEl","_createDOM2","default","class","messageEl","dom","id","body","appendChild","spin","querySelector","noteText","classList","add","remove","arguments","length","undefined","hideLater","destroy","elapse","_this","elapsed","Promise","resolve","timer","setTimeout","clearTimeout","message","Error","toString","child","createTextNode","firstChild","removeChild","css","className","constructor","element","attr","children","el","createElement","entries","forEach","item","setAttribute","Array","isArray"],"mappings":"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","file":"notice.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import createDOM from './createDOM';\r\n\r\n/**\r\n * Easy to use micro-library to show a notice on screen\r\n * @author colecmc\r\n * @version 0.1.0\r\n */\r\nclass Notice {\r\n    /* global document, HTMLElement */\r\n\r\n    constructor() {\r\n        this.DOC = document;\r\n\r\n        if (!(this.DOC.getElementById('notice') instanceof HTMLElement)) {\r\n            const spinEl = createDOM('span', {\r\n                'class': 'spinner notice-spinner block'\r\n            }, ['&nbsp;']);\r\n            const messageEl = createDOM('span', {\r\n                'class': 'notice-message'\r\n            }, ['loading...']);\r\n            const dom = createDOM('div', {\r\n                'id': 'notice',\r\n                'class': 'notice error toggle-visibility'\r\n            }, [createDOM('p', null, [messageEl, spinEl])]);\r\n\r\n            this.DOC.body.appendChild(dom);\r\n\r\n            this.module = this.DOC.getElementById('notice');\r\n            this.spin = this.module.querySelector('.notice-spinner');\r\n            this.noteText = this.module.querySelector('.notice-message');\r\n            this.spin.classList.add('block');\r\n        }\r\n    }\r\n\r\n    show() {\r\n        this.module.classList.remove('toggle-visibility');\r\n        return this;\r\n    }\r\n\r\n    hide(...elapsed) {\r\n        if (elapsed[0] === 1) {\r\n            return this.hideLater(elapsed[0]);\r\n        }\r\n\r\n        this.module.classList.add('toggle-visibility');\r\n        this.destroy();\r\n        return this;\r\n    }\r\n\r\n    hideLater(elapse) {\r\n        const elapsed = (elapse === 1) ? 2000 : elapse;\r\n\r\n        return new Promise((resolve) => {\r\n            const timer = setTimeout(() => {\r\n                this.module.classList.add('toggle-visibility');\r\n                this.destroy();\r\n                clearTimeout(timer);\r\n                resolve();\r\n            }, elapsed);\r\n        });\r\n    }\r\n\r\n    memo(message) {\r\n        if (this.noteText) {\r\n            if (typeof message === 'string') {\r\n                const child = this.DOC.createTextNode(message);\r\n\r\n                while (this.noteText.firstChild) {\r\n                    this.noteText.removeChild(this.noteText.firstChild);\r\n                }\r\n                this.noteText.appendChild(child);\r\n            } else {\r\n                throw new Error(`${message.toString()} - must be a string. notice.js/memo()`);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    type(css) {\r\n        if (css === 'updated') {\r\n            this.spin.classList.remove('block');\r\n        } else {\r\n            this.spin.classList.add('block');\r\n        }\r\n        this.module.className = `notice ${css}`;\r\n        return this;\r\n    }\r\n\r\n    destroy() {\r\n        this.DOC.body.removeChild(this.module);\r\n        this.spin = null;\r\n        this.noteText = null;\r\n        this.module = null;\r\n        return this.constructor();\r\n    }\r\n}\r\n\r\nexport default Notice;\r\n","function createDOM (element, attr, children) {\r\n    let el;\r\n\r\n    if (element && typeof element === 'string') {\r\n        el = document.createElement(element);\r\n    } else {\r\n        el = document.createElement('div');\r\n    }\r\n\r\n    if (attr) {\r\n        Object.entries(attr).forEach(item => el.setAttribute(item[0], item[1]));\r\n    }\r\n\r\n    if (children) {\r\n        if (Array.isArray(children)) {\r\n            children.forEach((item) => {\r\n                if (typeof item === 'string') {\r\n                    const child = document.createTextNode(item);\r\n\r\n                    el.appendChild(child);\r\n                } else {\r\n                    el.appendChild(item);\r\n                }\r\n            });\r\n        } else {\r\n            throw new Error('createDOM Exception: The \"children\" parameter must be an Array');\r\n        }\r\n    }\r\n\r\n    return el;\r\n}\r\n\r\nexport default createDOM;"],"sourceRoot":""}